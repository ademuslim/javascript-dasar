<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Destructuring</title>
  </head>
  <body>
    <script>
      /*
         Destructuring
         Destructuring adalah fitur yang bisa digunakan untuk membongkar value-value
         di array atau object ke dalam variable-variable.
         Fitur ini sangat mempermudah kita ketika ingin mengambil data dari array
         atau object tanpa harus melakukan pengambilan data satu persatu.
         */

      /*
         mengambil data array satu persatu secara manual

         const names = ["Ade", "Muslim", "Sairuddin"];
         const firstName = names[0];
         const middleName = names[1];
         const lastName = names[2];

         console.info(firstName);
         console.info(middleName);
         console.info(lastName);
         */

      {
        //destructuring array
        console.info("1. Destructuring Array");

        const names = ["Ade", "Muslim", "Sairuddin", "Amanda", "Nasyilah"];
        const [firstName, middleName, lastName, ...others] = names;

        console.info(firstName);
        console.info(middleName);
        console.info(lastName);
        console.info(others);
      }

      {
        //destructuring object
        console.info("2. Destructuring Object");

        const person = {
          firstName: "Dinda",
          lastName: "Silvia",
          address: {
            street: "Jalan Belum Ada",
            city: "Bekasi",
            country: "Indonesia",
          },
          hobby: "Futsal",
          channel: "am code",
        };

        const { firstName, lastName, address, ...others } = person;
        console.info(firstName);
        console.info(lastName);
        console.info(address);
        console.info(others);
      }

      {
        //destructuring nested object
        console.info("3. Destructuring Nested Array");

        const person = {
          firstName: "Amanda",
          lastName: "Nasyilah",
          address: {
            street: "Jalan Belum Ada",
            city: "Bekasi",
            country: "Indonesia",
          },
          hobby: "Futsal",
          channel: "am code",
        };

        const {
          firstName,
          lastName,
          address: { street, city, country }, //melakukan destructuring kembali
          ...others
        } = person;
        console.info(firstName);
        console.info(lastName);
        //console.info(address); //tidak bisa akses property address
        console.info(street);
        console.info(city);
        console.info(country);
        console.info(others);
      }

      {
        /*
        Destructuring Function Parameter
        Destructuring tidak hanya bisa dilakukan di variable, tapi juga bisa
        dilakukan di function parameter.
        Hal ini membuat kita mudah ketika ingin mengambil nested data dalam
        array atau object dalam function
        */
        console.info("4. Destructuring Function Parameter");

        //object
        // function displayPerson(person) {
        //   console.info(person.firstName);
        //   console.info(person.middleName);
        //   console.info(person.lastName);
        // }

        // const person = {
        //   firstName: "Ade",
        //   middleName: "Muslim",
        //   lastName: "Sairuddin",
        // };

        // displayPerson(person);

        function displayPerson({ firstName, middleName, lastName }) {
          console.info(firstName);
          console.info(middleName);
          console.info(lastName);
        }

        const person = {
          firstName: "Ade",
          middleName: "Muslim",
          lastName: "Sairuddin",
        };

        displayPerson(person);
      }

      {
        //array
        // function sum(array) {
        //   return array[0] + array[1];
        // }

        // console.info(sum([5, 7]));

        function sum([first, second]) {
          return first + second;
        }

        console.info(sum([5, 7]));
      }

      {
        /* 
        Default Value
        Yang paling menarik di destructuring adalah, kita bisa menambahkan default value.
        Jadi misal kita melakukan destructuring terhadap array, ternyata tidak ada datanya, 
        maka kita bisa menambahkan default value.
        Begitu juga pada object, jika ternyata property nya tidak ada maka kita bisa menambahkan 
        default value.
        */
        console.info("Default Value");

        // const names = ["Ade", "Muslim"];
        // const [firstName, middleName, lastName] = names;

        // console.info(firstName);
        // console.info(middleName);
        // console.info(lastName);

        const names = ["Ade", "Muslim"];
        const [firstName, middleName, lastName = "Sairuddin"] = names;

        console.info(firstName);
        console.info(middleName);
        console.info(lastName);
      }

      {
        //object
        const person = {
          firstName: "Dinda",
          //middleName: "Anisa",
          lastName: "Sairuddin",
        };

        let { firstName, middleName = "Silvia", lastName } = person;
        console.info(firstName);
        console.info(middleName);
        console.info(lastName);
      }

      {
        /*
        Menggunakan Nama Variable Lain
        Saat melakukan destructuring di array, kita bisa dengan mudah 
        membuat nama variable sesuka kita.
        Namun pada saat melakukan destructuring, kita harus membuat nama 
        variable sama dengan nama property.
        Kita juga bisa menggunakan nama variable lain saat melakukan 
        destructuring object jika kita mau.
        */
        console.info("5. Menggunakan Nama Variable Lain");

        const person = {
          firstName: "Dinda",
          //middleName: "Anisa",
          lastName: "Sairuddin",
        };

        let {
          firstName: namaDepan,
          middleName: namaTengah = "Silvia",
          lastName: namaBelakang,
        } = person;
        console.info(namaDepan);
        console.info(namaTengah);
        console.info(namaBelakang);
      }
    </script>
  </body>
</html>
